{"ast":null,"code":"import _regeneratorRuntime from\"D:/Documents/Desktop/App/react-rmdb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Documents/Desktop/App/react-rmdb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Documents/Desktop/App/react-rmdb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext}from'react';import API from'../../API';//Components\nimport Thumb from'../Thumb';import Rate from'../Rate';//Config\nimport{IMAGE_BASE_URL,POSTER_SIZE}from'../../config';//Image\nimport NoImage from'../../images/no_image.jpg';//Styles\nimport{Wrapper,Content,Text}from'./MovieInfo.styles';//Context\nimport{Context}from'../../context';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MovieInfo=function MovieInfo(_ref){var movie=_ref.movie;var _useContext=useContext(Context),_useContext2=_slicedToArray(_useContext,1),user=_useContext2[0];var handleRating=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(value){var rate;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return API.rateMovie(user.sessionId,movie.id,value);case 2:rate=_context.sent;console.log(rate);case 4:case\"end\":return _context.stop();}}},_callee);}));return function handleRating(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Wrapper,{backdrop:movie.backdrop_path,children:/*#__PURE__*/_jsxs(Content,{children:[/*#__PURE__*/_jsx(Thumb,{image:movie.backdrop_path?\"\".concat(IMAGE_BASE_URL).concat(POSTER_SIZE).concat(movie.poster_path):NoImage,clickable:false,alt:\"movie-thumb\"}),/*#__PURE__*/_jsxs(Text,{children:[/*#__PURE__*/_jsx(\"h1\",{children:movie.title}),/*#__PURE__*/_jsx(\"h3\",{children:\"PLOT\"}),/*#__PURE__*/_jsx(\"p\",{children:movie.overview}),/*#__PURE__*/_jsxs(\"div\",{className:\"rating-directors\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"RATING\"}),/*#__PURE__*/_jsx(\"div\",{className:\"score\",children:movie.vote_average})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"director\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"DIRECTOR\",movie.directors.length>1?'S':'']}),movie.directors.map(function(director){return/*#__PURE__*/_jsx(\"p\",{children:director.name},director.credit_id);})]})]}),user&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{children:\"Rate Movie\"}),/*#__PURE__*/_jsx(Rate,{callback:handleRating})]})]})]})});};export default MovieInfo;","map":{"version":3,"sources":["D:/Documents/Desktop/App/react-rmdb/src/components/MovieInfo/index.js"],"names":["React","useContext","API","Thumb","Rate","IMAGE_BASE_URL","POSTER_SIZE","NoImage","Wrapper","Content","Text","Context","MovieInfo","movie","user","handleRating","value","rateMovie","sessionId","id","rate","console","log","backdrop_path","poster_path","title","overview","vote_average","directors","length","map","director","name","credit_id"],"mappings":"2cAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,GAAP,KAAgB,WAAhB,CAEA;AACA,MAAOC,CAAAA,KAAP,KAAkB,UAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,SAAjB,CACA;AACA,OAASC,cAAT,CAAyBC,WAAzB,KAA4C,cAA5C,CACA;AACA,MAAOC,CAAAA,OAAP,KAAoB,2BAApB,CACA;AACA,OAASC,OAAT,CAAkBC,OAAlB,CAA2BC,IAA3B,KAAuC,oBAAvC,CACA;AACA,OAASC,OAAT,KAAwB,eAAxB,C,wFAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAa,IAAXC,CAAAA,KAAW,MAAXA,KAAW,CAC3B,gBAAeZ,UAAU,CAACU,OAAD,CAAzB,4CAAOG,IAAP,iBAEA,GAAMC,CAAAA,YAAY,2FAAG,iBAAMC,KAAN,iJACEd,CAAAA,GAAG,CAACe,SAAJ,CAAcH,IAAI,CAACI,SAAnB,CAA8BL,KAAK,CAACM,EAApC,CAAwCH,KAAxC,CADF,QACXI,IADW,eAEjBC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EAFiB,sDAAH,kBAAZL,CAAAA,YAAY,6CAAlB,CAKA,mBACI,KAAC,OAAD,EAAS,QAAQ,CAAIF,KAAK,CAACU,aAA3B,uBACI,MAAC,OAAD,yBACI,KAAC,KAAD,EACI,KAAK,CACDV,KAAK,CAACU,aAAN,WACKlB,cADL,SACsBC,WADtB,SACoCO,KAAK,CAACW,WAD1C,EAEEjB,OAJV,CAMI,SAAS,CAAI,KANjB,CAOI,GAAG,CAAC,aAPR,EADJ,cAUI,MAAC,IAAD,yBACI,oBAAKM,KAAK,CAACY,KAAX,EADJ,cAEI,4BAFJ,cAGI,mBAAIZ,KAAK,CAACa,QAAV,EAHJ,cAKI,aAAK,SAAS,CAAC,kBAAf,wBACI,oCACI,8BADJ,cAEI,YAAK,SAAS,CAAC,OAAf,UAAwBb,KAAK,CAACc,YAA9B,EAFJ,GADJ,cAKI,aAAK,SAAS,CAAC,UAAf,wBACI,iCAAad,KAAK,CAACe,SAAN,CAAgBC,MAAhB,CAAyB,CAAzB,CAA6B,GAA7B,CAAmC,EAAhD,GADJ,CAEKhB,KAAK,CAACe,SAAN,CAAgBE,GAAhB,CAAoB,SAAAC,QAAQ,qBACzB,mBAA6BA,QAAQ,CAACC,IAAtC,EAAQD,QAAQ,CAACE,SAAjB,CADyB,EAA5B,CAFL,GALJ,GALJ,CAiBKnB,IAAI,eACD,oCACI,iCADJ,cAEI,KAAC,IAAD,EAAM,QAAQ,CAAEC,YAAhB,EAFJ,GAlBR,GAVJ,GADJ,EADJ,CAuCH,CA/CD,CAoDA,cAAeH,CAAAA,SAAf","sourcesContent":["import React, { useContext } from 'react';\r\nimport API from '../../API';\r\nimport PropTypes from 'prop-types';\r\n//Components\r\nimport Thumb from '../Thumb';\r\nimport Rate from '../Rate';\r\n//Config\r\nimport { IMAGE_BASE_URL, POSTER_SIZE } from '../../config';\r\n//Image\r\nimport NoImage from '../../images/no_image.jpg';\r\n//Styles\r\nimport { Wrapper, Content, Text } from './MovieInfo.styles';\r\n//Context\r\nimport { Context } from '../../context';\r\n\r\nconst MovieInfo = ({movie}) => {\r\n    const [user] = useContext(Context);\r\n\r\n    const handleRating = async value =>{\r\n        const rate = await API.rateMovie(user.sessionId, movie.id, value);\r\n        console.log(rate);\r\n    };\r\n\r\n    return(\r\n        <Wrapper backdrop = {movie.backdrop_path}>\r\n            <Content>\r\n                <Thumb \r\n                    image = {\r\n                        movie.backdrop_path\r\n                        ? `${IMAGE_BASE_URL}${POSTER_SIZE}${movie.poster_path}`\r\n                        : NoImage\r\n                    }\r\n                    clickable = {false}\r\n                    alt='movie-thumb'\r\n                />\r\n                <Text>\r\n                    <h1>{movie.title}</h1>\r\n                    <h3>PLOT</h3>\r\n                    <p>{movie.overview}</p>\r\n\r\n                    <div className=\"rating-directors\">\r\n                        <div>\r\n                            <h3>RATING</h3>\r\n                            <div className=\"score\">{movie.vote_average}</div>\r\n                        </div>\r\n                        <div className=\"director\">\r\n                            <h3>DIRECTOR{movie.directors.length > 1 ? 'S' : ''}</h3>\r\n                            {movie.directors.map(director => (\r\n                                <p key={director.credit_id}>{director.name}</p>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                    {user && (\r\n                        <div>\r\n                            <p>Rate Movie</p>\r\n                            <Rate callback={handleRating} />\r\n                        </div>\r\n                    )}\r\n                </Text>\r\n            </Content>\r\n        </Wrapper>\r\n    );\r\n};\r\nMovieInfo.propTypes ={\r\n    movie: PropTypes.object\r\n};\r\n\r\nexport default MovieInfo;"]},"metadata":{},"sourceType":"module"}